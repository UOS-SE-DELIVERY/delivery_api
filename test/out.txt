Using username=tester_652405

=== REGISTER ===
HTTP 201
{'customer_id': 107, 'message': 'ok'}

=== LOGIN ===
HTTP 200
{ 'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMDciLCJ1c2VybmFtZSI6InRlc3Rlcl82NTI0MDUiLCJpYXQiOjE3NjE2NTI0MDUsImV4cCI6MTc2MTY1OTYwNX0.w3_A_pnjj6wpBTA1r8iEWs_KOhjwerEEHDPz6YRpEZc'}

=== ME ===
{ 'addresses': [],
  'customer_id': 107,
  'loyalty_tier': 'none',
  'phone': None,
  'profile_consent': False,
  'profile_consent_at': None,
  'real_name': None,
  'username': 'tester_652405'}

=== CONSENT ON (PATCH /me/) ===
HTTP 200
{ 'addresses': [],
  'customer_id': 107,
  'loyalty_tier': 'none',
  'phone': None,
  'profile_consent': True,
  'profile_consent_at': '2025-10-28T20:53:25.505086+09:00',
  'real_name': None,
  'username': 'tester_652405'}

=== CONTACT UPDATE (PATCH /me/) ===
HTTP 200
{ 'addresses': [],
  'customer_id': 107,
  'loyalty_tier': 'none',
  'phone': '010-1234-5678',
  'profile_consent': True,
  'profile_consent_at': '2025-10-28T20:53:25.505086+09:00',
  'real_name': '홍길동',
  'username': 'tester_652405'}

=== ADDR LIST (initial) ===
HTTP 200
{'addresses': []}

=== ADDR CREATE (home, default) ===
HTTP 201
{'addresses': [{'is_default': True, 'label': '집', 'lat': 37.5665, 'line': '서울시 어딘가 123', 'lng': 126.978}]}

=== ADDR CREATE (office) ===
HTTP 201
{ 'addresses': [ {'is_default': True, 'label': '집', 'lat': 37.5665, 'line': '서울시 어딘가 123', 'lng': 126.978},
                 {'is_default': False, 'label': '회사', 'lat': 37.5665, 'line': '서울시 센터 456', 'lng': 126.99}]}

=== ADDR LIST #2 ===
HTTP 200
{ 'addresses': [ {'is_default': True, 'label': '집', 'lat': 37.5665, 'line': '서울시 어딘가 123', 'lng': 126.978},
                 {'is_default': False, 'label': '회사', 'lat': 37.5665, 'line': '서울시 센터 456', 'lng': 126.99}]}

=== ADDR PATCH idx=0 ===
HTTP 200
{ 'addresses': [ {'is_default': True, 'label': '집(리모델링)', 'lat': 37.5665, 'line': '서울시 어딘가 123', 'lng': 126.978},
                 {'is_default': False, 'label': '회사', 'lat': 37.5665, 'line': '서울시 센터 456', 'lng': 126.99}]}

=== ADDR SET DEFAULT -> 1 ===
HTTP 200
{ 'addresses': [ {'is_default': False, 'label': '집(리모델링)', 'lat': 37.5665, 'line': '서울시 어딘가 123', 'lng': 126.978},
                 {'is_default': True, 'label': '회사', 'lat': 37.5665, 'line': '서울시 센터 456', 'lng': 126.99}]}

=== ADDR DELETE idx=0 ===
HTTP 200
{'addresses': [{'is_default': True, 'label': '회사', 'lat': 37.5665, 'line': '서울시 센터 456', 'lng': 126.99}]}

=== CATALOG /bootstrap ===
HTTP 200
{ 'categories': [ {'active': True, 'category_id': 1, 'children': [], 'name': 'Drinks', 'rank': 10, 'slug': 'drinks'},
                  {'active': True, 'category_id': 2, 'children': [], 'name': 'Mains', 'rank': 20, 'slug': 'mains'},
                  {'active': True, 'category_id': 3, 'children': [], 'name': 'Bread', 'rank': 30, 'slug': 'bread'},
                  { 'active': True,
                    'category_id': 4,
                    'children': [],
                    'name': 'Coffee & Tea',
                    'rank': 40,
                    'slug': 'coffee-tea'},
                  {'active': True, 'category_id': 5, 'children': [], 'name': 'Add-ons', 'rank': 90, 'slug': 'addons'}],
  'dinners': [ { 'active': True,
                 'base_price_cents': 180000,
                 'code': 'champagne_feast',
                 'description': '최고급 디너',
                 'dinner_type_id': 4,
                 'name': 'Champagne Feast'},
               { 'active': True,
                 'base_price_cents': 140000,
                 'code': 'english',
                 'description': '브리티시 스타일 코스',
                 'dinner_type_id': 3,
                 'name': 'English Dinner'},
               { 'active': True,
                 'base_price_cents': 160000,
                 'code': 'french',
                 'description': '클래식 프렌치 코스',
                 'dinner_type_id': 2,
                 'name': 'French Dinner'},
               { 'active': True,
                 'base_price_cents': 150000,
                 'code': 'valentine',
                 'description': '특별한 날을 위한 2인 코스',
                 'dinner_type_id': 1,
                 'name': 'Valentine Dinner'}],
  'tags': [ {'name': 'alcohol', 'tag_id': 1},
            {'name': 'bread', 'tag_id': 5},
            {'name': 'caffeine', 'tag_id': 6},
            {'name': 'meat', 'tag_id': 4},
            {'name': 'sparkling', 'tag_id': 2},
            {'name': 'wine', 'tag_id': 3}]}

=== CATALOG /dinners/valentine ===
HTTP 200
{ 'allowed_styles': [ { 'code': 'deluxe',
                        'name': 'Deluxe',
                        'notes': '',
                        'price_mode': 'multiplier',
                        'price_value': '1.40',
                        'style_id': 3},
                      { 'code': 'grand',
                        'name': 'Grand',
                        'notes': '',
                        'price_mode': 'multiplier',
                        'price_value': '1.20',
                        'style_id': 2},
                      { 'code': 'simple',
                        'name': 'Simple',
                        'notes': '',
                        'price_mode': 'multiplier',
                        'price_value': '1.00',
                        'style_id': 1}],
  'default_items': [ { 'default_qty': '2.00',
                       'included_in_base': True,
                       'item': { 'active': True,
                                 'base_price_cents': 3000,
                                 'category': {'category_id': 3, 'name': 'Bread', 'slug': 'bread'},
                                 'code': 'baguette',
                                 'description': '',
                                 'item_id': 4,
                                 'name': 'Baguette',
                                 'option_groups': [ { 'group_id': 2,
                                                      'is_required': False,
                                                      'is_variant': False,
                                                      'max_select': 4,
                                                      'min_select': 0,
                                                      'name': '추가 바게트',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '+1',
                                                                     'option_id': 4,
                                                                     'price_delta_cents': 3000,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '+2',
                                                                     'option_id': 5,
                                                                     'price_delta_cents': 6000,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '+3',
                                                                     'option_id': 6,
                                                                     'price_delta_cents': 9000,
                                                                     'rank': 3},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '+4',
                                                                     'option_id': 7,
                                                                     'price_delta_cents': 12000,
                                                                     'rank': 4}],
                                                      'price_mode': 'addon',
                                                      'rank': 2,
                                                      'select_mode': 'multi'},
                                                    { 'group_id': 8,
                                                      'is_required': False,
                                                      'is_variant': False,
                                                      'max_select': 2,
                                                      'min_select': 0,
                                                      'name': '버터/디핑',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '가염 버터',
                                                                     'option_id': 20,
                                                                     'price_delta_cents': 1000,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '갈릭 허브버터',
                                                                     'option_id': 21,
                                                                     'price_delta_cents': 1500,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '올리브오일&발사믹',
                                                                     'option_id': 22,
                                                                     'price_delta_cents': 1500,
                                                                     'rank': 3}],
                                                      'price_mode': 'addon',
                                                      'rank': 3,
                                                      'select_mode': 'multi'}]},
                       'notes': ''},
                     { 'default_qty': '1.00',
                       'included_in_base': True,
                       'item': { 'active': True,
                                 'base_price_cents': 8000,
                                 'category': {'category_id': 4, 'name': 'Coffee & Tea', 'slug': 'coffee-tea'},
                                 'code': 'coffee_pot',
                                 'description': '',
                                 'item_id': 5,
                                 'name': 'Coffee (Pot)',
                                 'option_groups': [ { 'group_id': 5,
                                                      'is_required': True,
                                                      'is_variant': True,
                                                      'max_select': 1,
                                                      'min_select': 1,
                                                      'name': '사이즈',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '기본',
                                                                     'option_id': 12,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.500',
                                                                     'name': '라지',
                                                                     'option_id': 13,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 2}],
                                                      'price_mode': 'multiplier',
                                                      'rank': 1,
                                                      'select_mode': 'single'},
                                                    { 'group_id': 9,
                                                      'is_required': False,
                                                      'is_variant': False,
                                                      'max_select': 3,
                                                      'min_select': 0,
                                                      'name': '샷 추가',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '+1샷',
                                                                     'option_id': 23,
                                                                     'price_delta_cents': 1000,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '+2샷',
                                                                     'option_id': 24,
                                                                     'price_delta_cents': 2000,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '+3샷',
                                                                     'option_id': 25,
                                                                     'price_delta_cents': 3000,
                                                                     'rank': 3}],
                                                      'price_mode': 'addon',
                                                      'rank': 2,
                                                      'select_mode': 'multi'},
                                                    { 'group_id': 10,
                                                      'is_required': True,
                                                      'is_variant': False,
                                                      'max_select': 1,
                                                      'min_select': 1,
                                                      'name': '원두 선택',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '라이트 로스트',
                                                                     'option_id': 26,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '미디엄 로스트',
                                                                     'option_id': 27,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '다크 로스트',
                                                                     'option_id': 28,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 3}],
                                                      'price_mode': 'addon',
                                                      'rank': 3,
                                                      'select_mode': 'single'}]},
                       'notes': ''},
                     { 'default_qty': '2.00',
                       'included_in_base': True,
                       'item': { 'active': True,
                                 'base_price_cents': 30000,
                                 'category': {'category_id': 2, 'name': 'Mains', 'slug': 'mains'},
                                 'code': 'steak',
                                 'description': '',
                                 'item_id': 3,
                                 'name': 'Steak',
                                 'option_groups': [ { 'group_id': 1,
                                                      'is_required': True,
                                                      'is_variant': False,
                                                      'max_select': 1,
                                                      'min_select': 1,
                                                      'name': '굽기',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '레어',
                                                                     'option_id': 1,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '미디엄',
                                                                     'option_id': 2,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '웰던',
                                                                     'option_id': 3,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 3}],
                                                      'price_mode': 'addon',
                                                      'rank': 1,
                                                      'select_mode': 'single'},
                                                    { 'group_id': 4,
                                                      'is_required': True,
                                                      'is_variant': True,
                                                      'max_select': 1,
                                                      'min_select': 1,
                                                      'name': '사이즈',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '150g',
                                                                     'option_id': 9,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.500',
                                                                     'name': '250g',
                                                                     'option_id': 10,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 2},
                                                                   { 'multiplier': '2.000',
                                                                     'name': '350g',
                                                                     'option_id': 11,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 3}],
                                                      'price_mode': 'multiplier',
                                                      'rank': 2,
                                                      'select_mode': 'single'},
                                                    { 'group_id': 6,
                                                      'is_required': False,
                                                      'is_variant': False,
                                                      'max_select': 2,
                                                      'min_select': 0,
                                                      'name': '시즈닝',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '후추 추가',
                                                                     'option_id': 14,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '갈릭 버터',
                                                                     'option_id': 15,
                                                                     'price_delta_cents': 2000,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '트러플 소금',
                                                                     'option_id': 16,
                                                                     'price_delta_cents': 3000,
                                                                     'rank': 3}],
                                                      'price_mode': 'addon',
                                                      'rank': 3,
                                                      'select_mode': 'multi'},
                                                    { 'group_id': 7,
                                                      'is_required': False,
                                                      'is_variant': False,
                                                      'max_select': 1,
                                                      'min_select': 0,
                                                      'name': '소스',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '페퍼 소스',
                                                                     'option_id': 17,
                                                                     'price_delta_cents': 1000,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '머쉬룸 소스',
                                                                     'option_id': 18,
                                                                     'price_delta_cents': 1000,
                                                                     'rank': 2},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '레드와인 소스',
                                                                     'option_id': 19,
                                                                     'price_delta_cents': 1500,
                                                                     'rank': 3}],
                                                      'price_mode': 'addon',
                                                      'rank': 4,
                                                      'select_mode': 'single'}]},
                       'notes': ''},
                     { 'default_qty': '1.00',
                       'included_in_base': True,
                       'item': { 'active': True,
                                 'base_price_cents': 50000,
                                 'category': {'category_id': 1, 'name': 'Drinks', 'slug': 'drinks'},
                                 'code': 'wine',
                                 'description': '',
                                 'item_id': 2,
                                 'name': 'Wine (Bottle)',
                                 'option_groups': [ { 'group_id': 11,
                                                      'is_required': False,
                                                      'is_variant': False,
                                                      'max_select': 1,
                                                      'min_select': 0,
                                                      'name': '서빙',
                                                      'options': [ { 'multiplier': '1.000',
                                                                     'name': '상온',
                                                                     'option_id': 29,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 1},
                                                                   { 'multiplier': '1.000',
                                                                     'name': '차갑게',
                                                                     'option_id': 30,
                                                                     'price_delta_cents': 0,
                                                                     'rank': 2}],
                                                      'price_mode': 'addon',
                                                      'rank': 1,
                                                      'select_mode': 'single'}]},
                       'notes': ''}],
  'dinner': { 'active': True,
              'base_price_cents': 150000,
              'code': 'valentine',
              'description': '특별한 날을 위한 2인 코스',
              'dinner_type_id': 1,
              'name': 'Valentine Dinner'},
  'option_groups': [ { 'group_id': 1,
                       'is_required': False,
                       'max_select': 2,
                       'min_select': 0,
                       'name': 'Beverage Upgrade',
                       'options': [ { 'is_default': False,
                                      'item_code': 'wine',
                                      'item_name': 'Wine (Bottle)',
                                      'multiplier': None,
                                      'name': None,
                                      'option_id': 1,
                                      'price_delta_cents': 50000,
                                      'rank': 1},
                                    { 'is_default': False,
                                      'item_code': 'champagne',
                                      'item_name': 'Champagne (Bottle)',
                                      'multiplier': None,
                                      'name': None,
                                      'option_id': 2,
                                      'price_delta_cents': 70000,
                                      'rank': 2}],
                       'price_mode': 'addon',
                       'rank': 10,
                       'select_mode': 'multi'},
                     { 'group_id': 2,
                       'is_required': False,
                       'max_select': 1,
                       'min_select': 0,
                       'name': 'Dessert Upgrade',
                       'options': [ { 'is_default': False,
                                      'item_code': None,
                                      'item_name': None,
                                      'multiplier': None,
                                      'name': 'Cheese Plate',
                                      'option_id': 3,
                                      'price_delta_cents': 15000,
                                      'rank': 1}],
                       'price_mode': 'addon',
                       'rank': 20,
                       'select_mode': 'single'}]}

=== CATALOG /items/steak ===
HTTP 200
{ 'active': True,
  'base_price_cents': 30000,
  'category': {'category_id': 2, 'name': 'Mains', 'slug': 'mains'},
  'code': 'steak',
  'description': '',
  'item_id': 3,
  'name': 'Steak',
  'option_groups': [ { 'group_id': 1,
                       'is_required': True,
                       'is_variant': False,
                       'max_select': 1,
                       'min_select': 1,
                       'name': '굽기',
                       'options': [ { 'multiplier': '1.000',
                                      'name': '레어',
                                      'option_id': 1,
                                      'price_delta_cents': 0,
                                      'rank': 1},
                                    { 'multiplier': '1.000',
                                      'name': '미디엄',
                                      'option_id': 2,
                                      'price_delta_cents': 0,
                                      'rank': 2},
                                    { 'multiplier': '1.000',
                                      'name': '웰던',
                                      'option_id': 3,
                                      'price_delta_cents': 0,
                                      'rank': 3}],
                       'price_mode': 'addon',
                       'rank': 1,
                       'select_mode': 'single'},
                     { 'group_id': 4,
                       'is_required': True,
                       'is_variant': True,
                       'max_select': 1,
                       'min_select': 1,
                       'name': '사이즈',
                       'options': [ { 'multiplier': '1.000',
                                      'name': '150g',
                                      'option_id': 9,
                                      'price_delta_cents': 0,
                                      'rank': 1},
                                    { 'multiplier': '1.500',
                                      'name': '250g',
                                      'option_id': 10,
                                      'price_delta_cents': 0,
                                      'rank': 2},
                                    { 'multiplier': '2.000',
                                      'name': '350g',
                                      'option_id': 11,
                                      'price_delta_cents': 0,
                                      'rank': 3}],
                       'price_mode': 'multiplier',
                       'rank': 2,
                       'select_mode': 'single'},
                     { 'group_id': 6,
                       'is_required': False,
                       'is_variant': False,
                       'max_select': 2,
                       'min_select': 0,
                       'name': '시즈닝',
                       'options': [ { 'multiplier': '1.000',
                                      'name': '후추 추가',
                                      'option_id': 14,
                                      'price_delta_cents': 0,
                                      'rank': 1},
                                    { 'multiplier': '1.000',
                                      'name': '갈릭 버터',
                                      'option_id': 15,
                                      'price_delta_cents': 2000,
                                      'rank': 2},
                                    { 'multiplier': '1.000',
                                      'name': '트러플 소금',
                                      'option_id': 16,
                                      'price_delta_cents': 3000,
                                      'rank': 3}],
                       'price_mode': 'addon',
                       'rank': 3,
                       'select_mode': 'multi'},
                     { 'group_id': 7,
                       'is_required': False,
                       'is_variant': False,
                       'max_select': 1,
                       'min_select': 0,
                       'name': '소스',
                       'options': [ { 'multiplier': '1.000',
                                      'name': '페퍼 소스',
                                      'option_id': 17,
                                      'price_delta_cents': 1000,
                                      'rank': 1},
                                    { 'multiplier': '1.000',
                                      'name': '머쉬룸 소스',
                                      'option_id': 18,
                                      'price_delta_cents': 1000,
                                      'rank': 2},
                                    { 'multiplier': '1.000',
                                      'name': '레드와인 소스',
                                      'option_id': 19,
                                      'price_delta_cents': 1500,
                                      'rank': 3}],
                       'price_mode': 'addon',
                       'rank': 4,
                       'select_mode': 'single'}]}
[i] Staff 로그인 시도: boss
[OK] Staff 로그인 성공

=== ORDERS price/preview ===
{ 'adjustments': [ { 'label': 'Simple',
                     'mode': 'multiplier',
                     'multiplier': '1.000',
                     'type': 'style',
                     'value_cents': None},
                   { 'label': 'Wine (Bottle)',
                     'mode': 'addon',
                     'multiplier': None,
                     'type': 'dinner_option',
                     'value_cents': 50000},
                   { 'label': 'Cheese Plate',
                     'mode': 'addon',
                     'multiplier': None,
                     'type': 'dinner_option',
                     'value_cents': 15000}],
  'discount_cents': 0,
  'discounts': [],
  'line_items': [],
  'subtotal_cents': 215000,
  'total_cents': 215000}

=== ORDER CREATE ===
{ 'address_meta': None,
  'card_last4': None,
  'customer_id': 107,
  'delivery_address': '서울시 임시로 789',
  'dinners': [ { 'base_price_cents': 150000,
                 'dinner_code': 'valentine',
                 'dinner_name': 'Valentine Dinner',
                 'id': 31,
                 'items': [ { 'change_type': 'unchanged',
                              'final_qty': '2.00',
                              'id': 121,
                              'is_default': True,
                              'item_code': 'baguette',
                              'item_name': 'Baguette',
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '1.00',
                              'id': 122,
                              'is_default': True,
                              'item_code': 'coffee_pot',
                              'item_name': 'Coffee (Pot)',
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '2.00',
                              'id': 123,
                              'is_default': True,
                              'item_code': 'steak',
                              'item_name': 'Steak',
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '1.00',
                              'id': 124,
                              'is_default': True,
                              'item_code': 'wine',
                              'item_name': 'Wine (Bottle)',
                              'options': [],
                              'unit_price_cents': 0}],
                 'notes': None,
                 'options': [ { 'id': 55,
                                'multiplier': None,
                                'option_group_name': 'Beverage Upgrade',
                                'option_name': 'Wine (Bottle)',
                                'price_delta_cents': 50000},
                              { 'id': 56,
                                'multiplier': None,
                                'option_group_name': 'Dessert Upgrade',
                                'option_name': 'Cheese Plate',
                                'price_delta_cents': 15000}],
                 'person_label': None,
                 'quantity': '1.00',
                 'style_adjust_cents': 0,
                 'style_code': 'simple',
                 'style_name': 'Simple'}],
  'discount_cents': 0,
  'geo_lat': None,
  'geo_lng': None,
  'id': 31,
  'meta': None,
  'order_source': 'GUI',
  'ordered_at': '2025-10-28T20:53:26.369769+09:00',
  'payment_token': None,
  'place_label': '기본',
  'receiver_name': '홍길동',
  'receiver_phone': '010-1234-5678',
  'status': 'pending',
  'subtotal_cents': 215000,
  'total_cents': 215000}

=== ORDER DETAIL (customer API) ===
HTTP 200
{ 'address_meta': None,
  'card_last4': None,
  'customer_id': 107,
  'delivery_address': '서울시 임시로 789',
  'dinners': [ { 'base_price_cents': 150000,
                 'dinner_code': 'valentine',
                 'dinner_name': 'Valentine Dinner',
                 'id': 31,
                 'items': [ { 'change_type': 'unchanged',
                              'final_qty': '2.00',
                              'id': 121,
                              'is_default': True,
                              'item_code': 'baguette',
                              'item_name': 'Baguette',
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '1.00',
                              'id': 122,
                              'is_default': True,
                              'item_code': 'coffee_pot',
                              'item_name': 'Coffee (Pot)',
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '2.00',
                              'id': 123,
                              'is_default': True,
                              'item_code': 'steak',
                              'item_name': 'Steak',
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '1.00',
                              'id': 124,
                              'is_default': True,
                              'item_code': 'wine',
                              'item_name': 'Wine (Bottle)',
                              'options': [],
                              'unit_price_cents': 0}],
                 'notes': None,
                 'options': [ { 'id': 55,
                                'multiplier': None,
                                'option_group_name': 'Beverage Upgrade',
                                'option_name': 'Wine (Bottle)',
                                'price_delta_cents': 50000},
                              { 'id': 56,
                                'multiplier': None,
                                'option_group_name': 'Dessert Upgrade',
                                'option_name': 'Cheese Plate',
                                'price_delta_cents': 15000}],
                 'person_label': None,
                 'quantity': '1.00',
                 'style_adjust_cents': 0,
                 'style_code': 'simple',
                 'style_name': 'Simple'}],
  'discount_cents': 0,
  'geo_lat': None,
  'geo_lng': None,
  'id': 31,
  'meta': None,
  'order_source': 'GUI',
  'ordered_at': '2025-10-28T20:53:26.369769+09:00',
  'payment_token': None,
  'place_label': '기본',
  'receiver_name': '홍길동',
  'receiver_phone': '010-1234-5678',
  'status': 'pending',
  'subtotal_cents': 215000,
  'total_cents': 215000}

================ STAFF APP TESTS ================

=== STAFF GET /me ===
HTTP 200
{'created_at': '2025-10-16T12:16:41.716959+09:00', 'id': 1, 'is_active': True, 'role': 'OWNER', 'username': 'boss'}

=== STAFF GET /orders/31 ===
{ 'address_meta': None,
  'card_last4': None,
  'coupons': [],
  'customer_id': 107,
  'delivery_address': '서울시 임시로 789',
  'dinners': [ { 'base_price_cents': 150000,
                 'dinner_type': {'id': None, 'name': 'Valentine Dinner'},
                 'id': 31,
                 'items': [ { 'change_type': 'unchanged',
                              'final_qty': '2.00',
                              'id': 121,
                              'is_default': True,
                              'item': {'id': 4, 'name': 'Baguette'},
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '1.00',
                              'id': 122,
                              'is_default': True,
                              'item': {'id': 5, 'name': 'Coffee (Pot)'},
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '2.00',
                              'id': 123,
                              'is_default': True,
                              'item': {'id': 3, 'name': 'Steak'},
                              'options': [],
                              'unit_price_cents': 0},
                            { 'change_type': 'unchanged',
                              'final_qty': '1.00',
                              'id': 124,
                              'is_default': True,
                              'item': {'id': 2, 'name': 'Wine (Bottle)'},
                              'options': [],
                              'unit_price_cents': 0}],
                 'notes': None,
                 'options': [ { 'id': 55,
                                'multiplier': None,
                                'option_group_name': 'Beverage Upgrade',
                                'option_name': 'Wine (Bottle)',
                                'price_delta_cents': 50000},
                              { 'id': 56,
                                'multiplier': None,
                                'option_group_name': 'Dessert Upgrade',
                                'option_name': 'Cheese Plate',
                                'price_delta_cents': 15000}],
                 'person_label': None,
                 'quantity': '1.00',
                 'style': {'id': None, 'name': 'Simple'},
                 'style_adjust_cents': 0}],
  'discount_cents': 0,
  'geo_lat': None,
  'geo_lng': None,
  'id': 31,
  'membership': None,
  'meta': None,
  'order_source': 'GUI',
  'ordered_at': '2025-10-28T20:53:26.369769+09:00',
  'place_label': '기본',
  'receiver_name': '홍길동',
  'receiver_phone': '010-1234-5678',
  'status': 'pending',
  'subtotal_cents': 215000,
  'total_cents': 215000}
SSE 연결: http://localhost:8000/api/staff/sse/orders params={'status': 'pending'}

=== SSE 첫 이벤트 ===
{ 'data': [ { 'customer_id': 107,
              'id': 31,
              'order_source': 'GUI',
              'ordered_at': '2025-10-28T11:53:26.369769+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 106,
              'id': 30,
              'order_source': 'GUI',
              'ordered_at': '2025-10-28T11:47:58.823476+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 105,
              'id': 29,
              'order_source': 'GUI',
              'ordered_at': '2025-10-27T08:27:27.206840+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 98,
              'id': 28,
              'order_source': 'GUI',
              'ordered_at': '2025-10-27T07:36:38.052797+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 150000,
              'total_cents': 150000},
            { 'customer_id': 97,
              'id': 27,
              'order_source': 'GUI',
              'ordered_at': '2025-10-27T07:35:13.040333+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 96,
              'id': 26,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:44:07.810653+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 95,
              'id': 25,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:43:31.439854+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 94,
              'id': 24,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:35:21.390890+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 93,
              'id': 23,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:31:44.666089+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 92,
              'id': 22,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:30:17.314063+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 91,
              'id': 21,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:24:48.475347+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 90,
              'id': 20,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T06:16:20.361971+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 89,
              'id': 19,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T05:33:26.993483+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 88,
              'id': 18,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T05:03:58.986905+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 87,
              'id': 17,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T05:01:23.989062+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 86,
              'id': 16,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T04:39:05.404814+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 85,
              'id': 15,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T04:38:29.910172+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 84,
              'id': 14,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T04:36:18.060229+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 83,
              'id': 13,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T04:34:44.797411+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000},
            { 'customer_id': 82,
              'id': 12,
              'order_source': 'GUI',
              'ordered_at': '2025-10-16T04:30:59.734490+00:00',
              'place_label': '기본',
              'receiver_name': '홍길동',
              'status': 'pending',
              'subtotal_cents': 215000,
              'total_cents': 215000}],
  'event': 'bootstrap'}
SSE 종료

=== STAFF GET /coupons ===
[ { 'active': True,
    'channel': 'ANY',
    'code': 'AUTOTEST_1760586982',
    'created_at': '2025-10-16T12:56:22.487562+09:00',
    'kind': 'percent',
    'label': 'AUTO-ON',
    'max_discount_cents': 0,
    'max_redemptions_global': 0,
    'max_redemptions_per_user': 0,
    'min_subtotal_cents': 0,
    'name': '자동화 테스트 쿠폰',
    'notes': 'created by test.py',
    'stackable_with_coupons': False,
    'stackable_with_membership': False,
    'updated_at': '2025-10-16T12:56:22.616267+09:00',
    'valid_from': None,
    'valid_until': None,
    'value': '10.00'},
  { 'active': True,
    'channel': 'ANY',
    'code': 'AUTOTEST_1760587244',
    'created_at': '2025-10-16T13:00:44.089893+09:00',
    'kind': 'percent',
    'label': 'AUTO-ON',
    'max_discount_cents': 0,
    'max_redemptions_global': 0,
    'max_redemptions_per_user': 0,
    'min_subtotal_cents': 0,
    'name': '자동화 테스트 쿠폰',
    'notes': 'created by test.py',
    'stackable_with_coupons': False,
    'stackable_with_membership': False,
    'updated_at': '2025-10-16T13:00:44.214540+09:00',
    'valid_from': None,
    'valid_until': None,
    'value': '10.00'},
  { 'active': True,
    'channel': 'ANY',
    'code': 'AUTOTEST_1761550513',
    'created_at': '2025-10-27T16:35:13.194998+09:00',
    'kind': 'percent',
    'label': 'AUTO-ON',
    'max_discount_cents': 0,
    'max_redemptions_global': 0,
    'max_redemptions_per_user': 0,
    'min_subtotal_cents': 0,
    'name': '자동화 테스트 쿠폰',
    'notes': 'created by test.py',
    'stackable_with_coupons': False,
    'stackable_with_membership': False,
    'updated_at': '2025-10-27T16:35:13.332747+09:00',
    'valid_from': None,
    'valid_until': None,
    'value': '10.00'},
  { 'active': True,
    'channel': 'ANY',
    'code': 'AUTOTEST_1761553649',
    'created_at': '2025-10-27T17:27:29.378852+09:00',
    'kind': 'percent',
    'label': 'AUTO-ON',
    'max_discount_cents': 0,
    'max_redemptions_global': 0,
    'max_redemptions_per_user': 0,
    'min_subtotal_cents': 0,
    'name': '자동화 테스트 쿠폰',
    'notes': 'created by test.py',
    'stackable_with_coupons': False,
    'stackable_with_membership': False,
    'updated_at': '2025-10-27T17:27:29.505793+09:00',
    'valid_from': None,
    'valid_until': None,
    'value': '10.00'},
  { 'active': True,
    'channel': 'ANY',
    'code': 'AUTOTEST_1761652079',
    'created_at': '2025-10-28T20:47:59.741860+09:00',
    'kind': 'percent',
    'label': 'AUTO-ON',
    'max_discount_cents': 0,
    'max_redemptions_global': 0,
    'max_redemptions_per_user': 0,
    'min_subtotal_cents': 0,
    'name': '자동화 테스트 쿠폰',
    'notes': 'created by test.py',
    'stackable_with_coupons': False,
    'stackable_with_membership': False,
    'updated_at': '2025-10-28T20:47:59.869076+09:00',
    'valid_from': None,
    'valid_until': None,
    'value': '10.00'}]

=== STAFF POST /coupons (create) ===
{ 'active': True,
  'channel': 'ANY',
  'code': 'AUTOTEST_1761652408',
  'created_at': '2025-10-28T20:53:28.516690+09:00',
  'kind': 'percent',
  'label': 'AUTOTEST',
  'max_discount_cents': 0,
  'max_redemptions_global': 0,
  'max_redemptions_per_user': 0,
  'min_subtotal_cents': 0,
  'name': '자동화 테스트 쿠폰',
  'notes': 'created by test.py',
  'stackable_with_coupons': False,
  'stackable_with_membership': False,
  'updated_at': '2025-10-28T20:53:28.516697+09:00',
  'valid_from': None,
  'valid_until': None,
  'value': '10.00'}

=== STAFF PATCH /coupons/AUTOTEST_1761652408 (deactivate) ===
{ 'active': False,
  'channel': 'ANY',
  'code': 'AUTOTEST_1761652408',
  'created_at': '2025-10-28T20:53:28.516690+09:00',
  'kind': 'percent',
  'label': 'AUTO-OFF',
  'max_discount_cents': 0,
  'max_redemptions_global': 0,
  'max_redemptions_per_user': 0,
  'min_subtotal_cents': 0,
  'name': '자동화 테스트 쿠폰',
  'notes': 'created by test.py',
  'stackable_with_coupons': False,
  'stackable_with_membership': False,
  'updated_at': '2025-10-28T20:53:28.576770+09:00',
  'valid_from': None,
  'valid_until': None,
  'value': '10.00'}

=== STAFF PATCH /coupons/AUTOTEST_1761652408 (activate) ===
{ 'active': True,
  'channel': 'ANY',
  'code': 'AUTOTEST_1761652408',
  'created_at': '2025-10-28T20:53:28.516690+09:00',
  'kind': 'percent',
  'label': 'AUTO-ON',
  'max_discount_cents': 0,
  'max_redemptions_global': 0,
  'max_redemptions_per_user': 0,
  'min_subtotal_cents': 0,
  'name': '자동화 테스트 쿠폰',
  'notes': 'created by test.py',
  'stackable_with_coupons': False,
  'stackable_with_membership': False,
  'updated_at': '2025-10-28T20:53:28.636572+09:00',
  'valid_from': None,
  'valid_until': None,
  'value': '10.00'}

=== PASSWORD CHANGE (POST /me/password/) ===
HTTP 200
{'detail': '비밀번호가 변경되었습니다.'}

=== LOGOUT ===
HTTP 204

All steps completed.
